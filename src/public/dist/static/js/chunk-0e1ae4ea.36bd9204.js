(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e1ae4ea"],{"58d2":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"carName",label:"Name",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"carRegistrationDate",label:"Registraton Date",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"carMilage",label:"Milage",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{label:"Operations"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleEdit(e.$index,e.row)}}},[t._v("Edit")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return t.handleAlert(e.$index,e.row)}}},[t._v("Alert")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("Delete")])]}}])})],1)],1)},r=[],c=n("66b4"),u=n("bc3a"),i=n.n(u),o="https://car-maintenance-alert.herokuapp.com/api",l=JSON.parse(localStorage.getItem("currentUserInfo")),s=l["x-auth-token"],d={"Content-Type":"application/json","x-auth-token":s};function h(t,e){i.a.post("".concat(o,"/alert/alert-car"),t,{headers:d}).then(function(t){return e(null,t)}).catch(function(t){return e(t,null)})}var f={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{tableData:this.tableData}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;Object(c["getCarsList"])(function(e,n){e||n["data"]["success"]&&(t.tableData=n["data"]["data"].map(function(t){var e=new Date(t.carRegistrationDate),n=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear();return t.carRegistrationDate=n,t}))})},handleEdit:function(t,e){this.$router.push({path:"/update-car/".concat(e._id)})},handleDelete:function(t,e){var n=this,a=e._id;Object(c["deleteCar"])(a,function(t,e){t||(n.$message("Car deleted"),n.tableData=n.tableData.filter(function(t){return t._id!==a}))})},handleAlert:function(t,e){var n=this,a=e.email;h({email:a},function(t,e){t?n.$message("Something went wrong!!"):n.$message("Alert on the way!!!")})}}},p=f,g=n("2877"),b=Object(g["a"])(p,a,r,!1,null,null,null);e["default"]=b.exports},"66b4":function(t,e,n){"use strict";n.r(e),n.d(e,"getCarsList",function(){return l}),n.d(e,"getCar",function(){return s}),n.d(e,"addCar",function(){return d}),n.d(e,"updateCar",function(){return h}),n.d(e,"deleteCar",function(){return f}),n.d(e,"getCarByOwnerId",function(){return p});var a=n("bc3a"),r=n.n(a),c="https://car-maintenance-alert.herokuapp.com/api",u=JSON.parse(localStorage.getItem("currentUserInfo")),i=u["x-auth-token"],o={"Content-Type":"application/json","x-auth-token":i};function l(t){r.a.get("".concat(c,"/cars/get-cars"),{headers:o}).then(function(e){return t(null,e)}).catch(function(e){return t(e,null)})}function s(t,e){r.a.get("".concat(c,"/cars/get-car/").concat(t),{headers:o}).then(function(t){return e(null,t)}).catch(function(t){return e(t,null)})}function d(t,e){r.a.post("".concat(c,"/cars/add-car"),t,{headers:o}).then(function(t){return e(null,t)}).catch(function(t){return e(t,null)})}function h(t,e){r.a.patch("".concat(c,"/cars/update-car/").concat(t._id),t,{headers:o}).then(function(t){return e(null,t)}).catch(function(t){return e(t,null)})}function f(t,e){r.a.delete("".concat(c,"/cars/delete-car/").concat(t),{headers:o}).then(function(t){return e(null,t)}).catch(function(t){return e(t,null)})}function p(t,e){r.a.get("".concat(c,"/cars/get-car-by-owner-id/").concat(t),{headers:o}).then(function(t){return e(null,t)}).catch(function(t){return e(t,null)})}}}]);