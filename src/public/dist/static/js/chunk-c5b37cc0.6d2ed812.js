(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5b37cc0"],{"2ac0":function(e,t,a){},"66b4":function(e,t,a){"use strict";a.r(t),a.d(t,"getCarsList",function(){return s}),a.d(t,"getCar",function(){return u}),a.d(t,"addCar",function(){return m}),a.d(t,"updateCar",function(){return d}),a.d(t,"deleteCar",function(){return f}),a.d(t,"getCarByOwnerId",function(){return p});var r=a("bc3a"),n=a.n(r),i="https://car-maintenance-alert.herokuapp.com/api",o=JSON.parse(localStorage.getItem("currentUserInfo")),c=o["x-auth-token"],l={"Content-Type":"application/json","x-auth-token":c};function s(e){n.a.get("".concat(i,"/cars/get-cars"),{headers:l}).then(function(t){return e(null,t)}).catch(function(t){return e(t,null)})}function u(e,t){n.a.get("".concat(i,"/cars/get-car/").concat(e),{headers:l}).then(function(e){return t(null,e)}).catch(function(e){return t(e,null)})}function m(e,t){n.a.post("".concat(i,"/cars/add-car"),e,{headers:l}).then(function(e){return t(null,e)}).catch(function(e){return t(e,null)})}function d(e,t){n.a.patch("".concat(i,"/cars/update-car/").concat(e._id),e,{headers:l}).then(function(e){return t(null,e)}).catch(function(e){return t(e,null)})}function f(e,t){n.a.delete("".concat(i,"/cars/delete-car/").concat(e),{headers:l}).then(function(e){return t(null,e)}).catch(function(e){return t(e,null)})}function p(e,t){n.a.get("".concat(i,"/cars/get-car-by-owner-id/").concat(e),{headers:l}).then(function(e){return t(null,e)}).catch(function(e){return t(e,null)})}},c1fe:function(e,t,a){"use strict";var r=a("2ac0"),n=a.n(r);n.a},f597:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.carFormRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Car Name"}},[a("el-input",{model:{value:e.form.carName,callback:function(t){e.$set(e.form,"carName",t)},expression:"form.carName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Registration"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Pick a date"},model:{value:e.form.carRegistrationDate,callback:function(t){e.$set(e.form,"carRegistrationDate",t)},expression:"form.carRegistrationDate"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Car Description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.carDescription,callback:function(t){e.$set(e.form,"carDescription",t)},expression:"form.carDescription"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Car Mileage"}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.carMilage,callback:function(t){e.$set(e.form,"carMilage",t)},expression:"form.carMilage"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"email",label:"Email"}},[a("el-input",{ref:"email",attrs:{placeholder:"Email",name:"email",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"mobileNo",label:"Mobile No."}},[a("el-input",{ref:"mobileNo",attrs:{placeholder:"Mobile No",name:"mobileNo",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.form.mobileNo,callback:function(t){e.$set(e.form,"mobileNo",t)},expression:"form.mobileNo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e._v("Submit")])],1)],1)],1)},n=[],i=a("61f7"),o=a("66b4"),c=o.updateCar,l=(o.getCar,o.addCar),s=o.getCarByOwnerId,u={data:function(){var e=function(e,t,a){Object(i["b"])(t)?a():a(new Error("Please enter the correct email"))},t=function(e,t,a){Object(i["c"])(t)?a():a(new Error("Please enter the correct mobile number"))};return{form:{carName:"",carRegistrationDate:"",carMilage:0,carDescription:"",email:"",mobileNo:"",ownerId:""},carFormRules:{carRegistrationDate:[{required:!0,trigger:"blur"}],email:[{required:!0,trigger:"blur",validator:e}],mobileNo:[{required:!0,trigger:"blur",validator:t}],ownerId:[{required:!0,trigger:"blur"}]}}},created:function(){var e=JSON.parse(localStorage.getItem("currentUserInfo"));this.fetchData(e._id)},methods:{fetchData:function(e){var t=this;s(e,function(e,a){if(e)t.$message("Invalid car id.");else if(a["data"]["success"]){var r=a["data"]["data"],n=r._id,i=void 0===n?"":n,o=r.carName,c=void 0===o?"":o,l=r.carRegistrationDate,s=void 0===l?"":l,u=r.carMilage,m=void 0===u?0:u,d=r.carDescription,f=void 0===d?"":d,p=r.email,g=void 0===p?"":p,v=r.mobileNo,b=void 0===v?"":v,h=r.ownerId,N=void 0===h?"":h;t.form={_id:i,carName:c,carRegistrationDate:s,carMilage:m,carDescription:f,email:g,mobileNo:b,ownerId:N},a["data"]["data"]||(t.isNewCar=!0)}})},handleSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var a=e.form,r=a._id,n=a.carName,i=void 0===n?"":n,o=a.carRegistrationDate,s=void 0===o?"":o,u=a.carMilage,m=void 0===u?0:u,d=a.carDescription,f=void 0===d?"":d,p=a.email,g=void 0===p?"":p,v=a.mobileNo,b=void 0===v?"":v,h=a.ownerId,N=void 0===h?"":h,D={_id:r,carName:i,carRegistrationDate:s,carMilage:m,carDescription:f,email:g,mobileNo:b,ownerId:N};if(N)c(D,function(t,a){t?e.$message("Invalid entry."):e.$message("Car Updated")});else{delete D._id;var w=JSON.parse(localStorage.getItem("currentUserInfo"));D.ownerId=w._id,l(D,function(t,a){t?e.$message("Invalid entry."):e.$message("Car created")})}})},onSubmit:function(){var e=this,t=this.form,a=t._id,r=t.carName,n=void 0===r?"":r,i=t.carRegistrationDate,o=void 0===i?"":i,l=t.carMilage,s=void 0===l?0:l,u=t.carDescription,m=void 0===u?"":u,d={_id:a,carName:n,carRegistrationDate:o,carMilage:s,carDescription:m};c(d,function(t,a){t?e.$message("Invalid entry."):e.$message("Car Updated")})},onCancel:function(){this.$message({message:"cancel!",type:"warning"})}}},m=u,d=(a("c1fe"),a("2877")),f=Object(d["a"])(m,r,n,!1,null,"01cd7af5",null);t["default"]=f.exports}}]);